<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Visualization</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/detect-resize-0.5.3/jquery.resize.js"></script>
<link href="site_libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="site_libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="site_libs/d3-3.5.2/d3.min.js"></script>
<script src="site_libs/vega-1.4.3/vega.min.js"></script>
<script src="site_libs/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="site_libs/ggvis-0.4.3/css/ggvis.css" rel="stylesheet" />
<script src="site_libs/ggvis-0.4.3/js/ggvis.js"></script>
<link href="site_libs/font-awesome-4.5.0/css/font-awesome.min.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="libs-local\duke.css" type="text/css" />
<link rel="stylesheet" href="libs-local\cc-fonts.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Intro to R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="data_management.html">Load Data</a>
</li>
<li>
  <a href="exercise1.html">Exercise One</a>
</li>
<li>
  <a href="data_wrangling.html">Data Wrangling</a>
</li>
<li>
  <a href="exercise2.html">Exercise Two</a>
</li>
<li>
  <a href="visualization.html">Visualization</a>
</li>
<li>
  <a href="gis.html">GIS/Mapping</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/data-and-visualization/Intro2R">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Visualization</h1>

</div>


<p>When in the data exploratory phase, you can quickly generate very basic visualizations with minimal effort. Your visualizations then appear in the Viewer Pane.</p>
<p>For this introductory section on visualization we use the <code>ggvis</code> package because it works seamlessly with pipes (i.e. <code>%&gt;%</code>). You can do a lot with <a href="http://ggvis.rstudio.com/">ggvis</a>. You can do even more with <a href="http://ggplot2.tidyverse.org/">ggplot2</a>. We offer a separate workshop on ggplot2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(ggvis)
<span class="co">#library(datasets)</span>
<span class="kw">library</span>(forcats)</code></pre></div>
<div id="scatter-plot" class="section level2">
<h2>Scatter Plot</h2>
<p>Linear model and 95% confidence interval</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(mass),
         <span class="op">!</span><span class="kw">is.na</span>(height),
         mass <span class="op">&lt;</span><span class="st"> </span><span class="dv">400</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span>mass, <span class="op">~</span>height) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_points</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_model_predictions</span>(<span class="dt">model =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## Guessing formula = height ~ mass</code></pre>
<p><div id="plot_id346058993-container" class="ggvis-output-container">
<div id="plot_id346058993" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id346058993_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id346058993" data-renderer="svg">SVG</a>
 | 
<a id="plot_id346058993_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id346058993" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id346058993_download" class="ggvis-download" data-plot-id="plot_id346058993">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id346058993_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "mass": "number",
          "height": "number"
        }
      },
      "values": "\"mass\",\"height\"\n77,172\n75,167\n32,96\n136,202\n49,150\n120,178\n75,165\n32,97\n84,183\n77,182\n84,188\n112,228\n80,180\n74,173\n77,170\n110,180\n17,66\n75,170\n78.2,183\n140,200\n113,190\n79,177\n79,175\n83,180\n20,88\n68,160\n89,193\n90,191\n66,196\n82,224\n40,112\n80,175\n55,178\n45,94\n65,163\n84,188\n82,198\n87,196\n50,184\n80,188\n85,185\n80,183\n56.2,170\n50,166\n80,193\n79,183\n55,168\n102,198\n88,229\n15,79\n48,193\n57,178\n159,216\n136,234\n79,188\n48,178\n80,206\n45,165"
    },
    {
      "name": ".0/model_prediction1",
      "format": {
        "type": "csv",
        "parse": {
          "resp_upr_": "number",
          "pred_": "number",
          "resp_lwr_": "number",
          "resp_": "number"
        }
      },
      "values": "\"resp_upr_\",\"pred_\",\"resp_lwr_\",\"resp_\"\n131.785894190631,15,103.220509412923,117.503201801777\n133.137293660856,16.8227848101266,105.269193806441,119.203243733648\n134.490806998612,18.6455696202532,107.315764332428,120.90328566552\n135.846600141765,20.4683544303797,109.360055053018,122.603327597392\n137.20485558692,22.2911392405063,111.401883471607,124.303369529263\n138.565774312576,24.1139240506329,113.441048609693,126.003411461135\n139.929577939676,25.9367088607595,115.477328846336,127.703453393006\n141.296511155781,27.7594936708861,117.510479493975,129.403495324878\n142.66684442994,29.5822784810127,119.540230083559,131.103537256749\n144.040877045002,31.4050632911392,121.56628133224,132.803579188621\n145.418940472143,33.2278481012658,123.588301768841,134.503621120492\n146.801402107844,35.0506329113924,125.605923996884,136.203663052364\n148.18866938532,36.873417721519,127.618740583151,137.903704984235\n149.581194258947,38.6962025316456,129.626299573267,139.603746916107\n150.97947803949,40.5189873417722,131.628099656467,141.303788847978\n152.384076527502,42.3417721518987,133.623585032198,143.00383077985\n153.795605348902,44.1645569620253,135.612140074541,144.703872711721\n155.2147453371,45.9873417721519,137.593083950086,146.403914643593\n156.642247726352,47.8101265822785,139.565665424577,148.103956575465\n158.07893881824,49.6329113924051,141.529058196432,149.803998507336\n159.525723655637,51.4556962025316,143.482357222778,151.504040439208\n160.983588088315,53.2784810126582,145.424576653843,153.204082371079\n162.453598449425,55.1012658227848,147.354650156477,154.904124302951\n163.936897900176,56.9240506329114,149.271434569469,156.604166234822\n165.434698371995,58.746835443038,151.173717961392,158.304208166694\n166.948266988215,60.5696202531646,153.060233208915,160.004250098565\n168.47890594295,62.3924050632911,154.929678117924,161.704292030437\n170.027925123265,64.2151898734177,156.780742801352,163.404333962308\n171.596607342258,66.0379746835443,158.612144446101,165.10437589418\n173.186166926992,67.8607594936709,160.422668725111,166.804417826051\n174.797703524322,69.6835443037975,162.211215991524,168.504459757923\n176.432154194816,71.506329113924,163.976849184773,170.204501689794\n178.090247902289,73.3291139240506,165.718839341043,171.904543621666\n179.772467059804,75.1518987341772,167.436704047271,173.604585553538\n181.479020589788,76.9746835443038,169.13023438103,175.304627485409\n183.209831884411,78.7974683544304,170.799506950151,177.004669417281\n184.964543246542,80.620253164557,172.444879451762,178.704711349152\n186.742536223639,82.4430379746835,174.066970338408,180.404753281024\n188.542965214988,84.2658227848101,175.666625210802,182.104795212895\n190.364800287043,86.0886075949367,177.24487400249,183.804837144767\n192.206874524579,87.9113924050633,178.802883628697,185.504879076638\n194.067931473637,89.7341772151899,180.341910543383,187.20492100851\n195.946669083688,91.5569620253165,181.863256797075,188.904962940381\n197.84177772187,93.379746835443,183.368232022636,190.605004872253\n199.751971018136,95.2025316455696,184.858122590112,192.305046804124\n201.676009301714,97.0253164556962,186.334168170278,194.005088735996\n203.612716108815,98.8481012658228,187.79754522692,195.705130667867\n205.560988671123,100.670886075949,189.249356528355,197.405172599739\n207.519803480491,102.493670886076,190.69062558273,199.10521453161\n209.48821803607,104.316455696203,192.122294890894,200.805256463482\n211.465369782762,106.139240506329,193.545227007945,202.505298395354\n213.450473099009,107.962025316456,194.960207555441,204.205340327225\n215.442815025433,109.784810126582,196.36794949276,205.905382259097\n217.441750267349,111.607594936709,197.769098114587,207.605424190968\n219.4466958655,113.430379746835,199.16423638018,209.30546612284\n221.457125815133,115.253164556962,200.55389029429,211.005508054711\n223.472565823412,117.075949367089,201.938534149754,212.705549986583\n225.49258832664,118.898734177215,203.318595510269,214.405591918454\n227.516807838296,120.721518987342,204.694459862355,216.105633850326\n229.544876662853,122.544303797468,206.066474901542,217.805675782197\n231.576480985422,124.367088607595,207.434954442716,219.505717714069\n233.611337330745,126.189873417722,208.800181961136,221.20575964594\n235.649189374565,128.012658227848,210.162413781059,222.905801577812\n237.689805084343,129.835443037975,211.521881935024,224.605843509683\n239.732974163237,131.658227848101,212.878796719873,226.305885441555\n241.778505770252,133.481012658228,214.233348976601,228.005927373427\n243.826226489837,135.303797468354,215.58571212076,229.705969305298\n245.875978525396,137.126582278481,216.936043948943,231.40601123717\n247.927618092867,138.949367088608,218.284488245215,233.106053169041\n249.981013992428,140.772151898734,219.631176209398,234.806095100913\n252.03604633841,142.594936708861,220.976227727159,236.506137032784\n254.092605429468,144.417721518987,222.319752499844,238.206178964656\n256.150590742933,146.240506329114,223.661851050121,239.906220896527\n258.209910039051,148.063291139241,225.002615617747,241.606262828399\n260.270478562397,149.886075949367,226.342130958143,243.30630476027\n262.332218329257,151.708860759494,227.680475055027,245.006346692142\n264.395057491026,153.53164556962,229.017719757001,246.706388624013\n266.458929764911,155.354430379747,230.353931346859,248.406430555885\n268.523773924204,157.177215189873,231.689171051309,250.106472487756\n270.589533341358,159,233.023495497898,251.806514419628"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n7.8\n166.2"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n55.7705233329321\n280.819010008426"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "fill": {
            "value": "#000000"
          },
          "size": {
            "value": 50
          },
          "x": {
            "scale": "x",
            "field": "data.mass"
          },
          "y": {
            "scale": "y",
            "field": "data.height"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    },
    {
      "type": "area",
      "properties": {
        "update": {
          "fill": {
            "value": "#333333"
          },
          "y2": {
            "scale": "y",
            "field": "data.resp_upr_"
          },
          "fillOpacity": {
            "value": 0.2
          },
          "x": {
            "scale": "x",
            "field": "data.pred_"
          },
          "y": {
            "scale": "y",
            "field": "data.resp_lwr_"
          },
          "stroke": {
            "value": "transparent"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/model_prediction1"
          }
        }
      },
      "from": {
        "data": ".0/model_prediction1"
      }
    },
    {
      "type": "line",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "strokeWidth": {
            "value": 2
          },
          "x": {
            "scale": "x",
            "field": "data.pred_"
          },
          "y": {
            "scale": "y",
            "field": "data.resp_"
          },
          "fill": {
            "value": "transparent"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/model_prediction1"
          }
        }
      },
      "from": {
        "data": ".0/model_prediction1"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "mass"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "height"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id346058993").parseSpec(plot_id346058993_spec);
</script> <a href="http://ggvis.rstudio.com/cookbook.html#scatterplots">More information on ggvis scatterplots</a> | <a href="http://ggvis.rstudio.com/cookbook.html#line-graphs">line graphs</a></p>
</div>
<div id="bar-graph" class="section level2">
<h2>Bar Graph</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars_species &lt;-<span class="st"> </span>starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(species)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(species) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">count</span>(species) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>n) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>)

species_levels &lt;-<span class="st"> </span>starwars_species<span class="op">$</span>species</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">species =</span> <span class="kw">parse_factor</span>(species, species_levels)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span>species) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_bars</span>()</code></pre></div>
<pre><code>## Warning: 29 parsing failures.
## row # A tibble: 5 x 4 col     row   col expected           actual         expected   &lt;int&gt; &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;          actual 1    15    NA value in level set Rodian         row 2    16    NA value in level set Hutt           col 3    19    NA value in level set Yoda&#39;s species expected 4    23    NA value in level set Trandoshan     actual 5    26    NA value in level set Mon Calamari  
## ... ................. ... ............................................... ........ ............................................... ...... ............................................... ... ............................................... ... ............................................... ........ ............................................... ...... ...............................................
## See problems(...) for more details.</code></pre>
<p><div id="plot_id881762301-container" class="ggvis-output-container">
<div id="plot_id881762301" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id881762301_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id881762301" data-renderer="svg">SVG</a>
 | 
<a id="plot_id881762301_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id881762301" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id881762301_download" class="ggvis-download" data-plot-id="plot_id881762301">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id881762301_spec = {
  "data": [
    {
      "name": ".0/count1/stack2",
      "format": {
        "type": "csv",
        "parse": {
          "stack_lwr_": "number",
          "stack_upr_": "number"
        }
      },
      "values": "\"x_\",\"stack_lwr_\",\"stack_upr_\"\n\"Human\",0,35\n\"Droid\",0,5\n\"Gungan\",0,3\n\"Kaminoan\",0,2\n\"Mirialan\",0,2\n\"Twi'lek\",0,2\n\"Wookiee\",0,2\n\"Zabrak\",0,2\n\"NA\",0,5"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Human\"\n\"Droid\"\n\"Gungan\"\n\"Kaminoan\"\n\"Mirialan\"\n\"Twi'lek\"\n\"Wookiee\"\n\"Zabrak\""
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n36.75"
    }
  ],
  "scales": [
    {
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "name": "x",
      "type": "ordinal",
      "points": false,
      "padding": 0.1,
      "sort": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "rect",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "fill": {
            "value": "#333333"
          },
          "x": {
            "scale": "x",
            "field": "data.x_"
          },
          "y": {
            "scale": "y",
            "field": "data.stack_lwr_"
          },
          "y2": {
            "scale": "y",
            "field": "data.stack_upr_"
          },
          "width": {
            "scale": "x",
            "band": true
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/count1/stack2"
          }
        }
      },
      "from": {
        "data": ".0/count1/stack2"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "species"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "count"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id881762301").parseSpec(plot_id881762301_spec);
</script> <a href="http://ggvis.rstudio.com/cookbook.html#bar-graphs">More information on ggvis bar graphs</a></p>
</div>
<div id="histogram" class="section level2">
<h2>Histogram</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span>birth_year) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_histograms</span>()</code></pre></div>
<p><div id="plot_id667648330-container" class="ggvis-output-container">
<div id="plot_id667648330" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id667648330_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id667648330" data-renderer="svg">SVG</a>
 | 
<a id="plot_id667648330_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id667648330" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id667648330_download" class="ggvis-download" data-plot-id="plot_id667648330">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id667648330_spec = {
  "data": [
    {
      "name": ".0/bin1/stack2",
      "format": {
        "type": "csv",
        "parse": {
          "xmin_": "number",
          "xmax_": "number",
          "stack_upr_": "number",
          "stack_lwr_": "number"
        }
      },
      "values": "\"xmin_\",\"xmax_\",\"stack_upr_\",\"stack_lwr_\"\n-25,25,7,0\n25,75,26,0\n75,125,7,0\n125,175,0,0\n175,225,1,0\n225,275,0,0\n275,325,0,0\n325,375,0,0\n375,425,0,0\n425,475,0,0\n475,525,0,0\n525,575,0,0\n575,625,1,0\n625,675,0,0\n675,725,0,0\n725,775,0,0\n775,825,0,0\n825,875,0,0\n875,925,1,0\nNA,NA,44,0"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-72.5\n972.5"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n46.2"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "rect",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "fill": {
            "value": "#333333"
          },
          "x": {
            "scale": "x",
            "field": "data.xmin_"
          },
          "x2": {
            "scale": "x",
            "field": "data.xmax_"
          },
          "y": {
            "scale": "y",
            "field": "data.stack_upr_"
          },
          "y2": {
            "scale": "y",
            "field": "data.stack_lwr_"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/bin1/stack2"
          }
        }
      },
      "from": {
        "data": ".0/bin1/stack2"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "birth_year"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "count"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id667648330").parseSpec(plot_id667648330_spec);
</script> <a href="http://ggvis.rstudio.com/cookbook.html#histograms">More information on ggvis histograms</a></p>
</div>
<div id="grouping-data-points" class="section level2">
<h2>Grouping data points</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(mass),
         <span class="op">!</span><span class="kw">is.na</span>(height),
         mass <span class="op">&lt;</span><span class="st"> </span><span class="dv">400</span>,
         height <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span>,
         species <span class="op">==</span><span class="st"> &quot;Human&quot;</span> <span class="op">|</span><span class="st"> </span>
<span class="st">           </span>species <span class="op">==</span><span class="st"> &quot;Droid&quot;</span> <span class="op">|</span><span class="st"> </span>
<span class="st">           </span>species <span class="op">==</span><span class="st"> &quot;Gungan&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co">#mutate(species = parse_factor(species, species)) %&gt;% </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span>height, <span class="op">~</span>mass) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(species) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="co">#layer_points(~mass, ~height,</span>
<span class="st">  </span><span class="kw">layer_points</span>(<span class="op">~</span>height, <span class="op">~</span>mass, 
               stroke <span class="op">:</span><span class="er">=</span><span class="st"> &quot;black&quot;</span>, 
               <span class="dt">fill =</span> <span class="op">~</span>species)</code></pre></div>
<div id="plot_id188069802-container" class="ggvis-output-container">
<div id="plot_id188069802" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id188069802_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id188069802" data-renderer="svg">SVG</a>
 | 
<a id="plot_id188069802_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id188069802" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id188069802_download" class="ggvis-download" data-plot-id="plot_id188069802">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id188069802_spec = {
  "data": [
    {
      "name": ".0/group_by1_flat",
      "format": {
        "type": "csv",
        "parse": {
          "height": "number",
          "mass": "number"
        }
      },
      "values": "\"species\",\"height\",\"mass\"\n\"Droid\",167,75\n\"Droid\",200,140\n\"Gungan\",196,66\n\"Gungan\",224,82\n\"Human\",172,77\n\"Human\",202,136\n\"Human\",150,49\n\"Human\",178,120\n\"Human\",165,75\n\"Human\",183,84\n\"Human\",182,77\n\"Human\",188,84\n\"Human\",180,80\n\"Human\",170,77\n\"Human\",180,110\n\"Human\",170,75\n\"Human\",183,78.2\n\"Human\",177,79\n\"Human\",175,79\n\"Human\",193,89\n\"Human\",188,84\n\"Human\",185,85\n\"Human\",193,80\n\"Human\",183,79\n\"Human\",188,79\n\"Human\",165,45"
    },
    {
      "name": ".0/group_by1",
      "source": ".0/group_by1_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.species"
          ]
        }
      ]
    },
    {
      "name": "scale/fill",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Human\"\n\"Droid\"\n\"Gungan\""
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n146.3\n227.7"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n40.25\n144.75"
    }
  ],
  "scales": [
    {
      "name": "fill",
      "type": "ordinal",
      "domain": {
        "data": "scale/fill",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "category10"
    },
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1"
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "size": {
                "value": 50
              },
              "fill": {
                "scale": "fill",
                "field": "data.species"
              },
              "stroke": {
                "value": "black"
              },
              "x": {
                "scale": "x",
                "field": "data.height"
              },
              "y": {
                "scale": "y",
                "field": "data.mass"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [
    {
      "orient": "right",
      "fill": "fill",
      "title": "species"
    }
  ],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "height"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "mass"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id188069802").parseSpec(plot_id188069802_spec);
</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span>wt, <span class="op">~</span>mpg) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(cyl) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_model_predictions</span>(<span class="dt">model=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_points</span>(<span class="op">~</span>wt, <span class="op">~</span>mpg, stroke <span class="op">:</span><span class="er">=</span><span class="st"> &quot;black&quot;</span>, <span class="dt">fill =</span> <span class="op">~</span><span class="kw">factor</span>(cyl), size <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="er">~</span>hp, opacity <span class="op">:</span><span class="er">=</span><span class="st"> </span><span class="fl">0.7</span>) </code></pre></div>
<pre><code>## Guessing formula = mpg ~ wt</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<div id="plot_id752014474-container" class="ggvis-output-container">
<div id="plot_id752014474" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id752014474_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id752014474" data-renderer="svg">SVG</a>
 | 
<a id="plot_id752014474_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id752014474" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id752014474_download" class="ggvis-download" data-plot-id="plot_id752014474">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id752014474_spec = {
  "data": [
    {
      "name": ".0/group_by1_flat",
      "format": {
        "type": "csv",
        "parse": {
          "cyl": "number",
          "hp": "number",
          "wt": "number",
          "mpg": "number"
        }
      },
      "values": "\"cyl\",\"factor(cyl)\",\"hp\",\"wt\",\"mpg\"\n4,\"4\",93,2.32,22.8\n4,\"4\",62,3.19,24.4\n4,\"4\",95,3.15,22.8\n4,\"4\",66,2.2,32.4\n4,\"4\",52,1.615,30.4\n4,\"4\",65,1.835,33.9\n4,\"4\",97,2.465,21.5\n4,\"4\",66,1.935,27.3\n4,\"4\",91,2.14,26\n4,\"4\",113,1.513,30.4\n4,\"4\",109,2.78,21.4\n6,\"6\",110,2.62,21\n6,\"6\",110,2.875,21\n6,\"6\",110,3.215,21.4\n6,\"6\",105,3.46,18.1\n6,\"6\",123,3.44,19.2\n6,\"6\",123,3.44,17.8\n6,\"6\",175,2.77,19.7\n8,\"8\",175,3.44,18.7\n8,\"8\",245,3.57,14.3\n8,\"8\",180,4.07,16.4\n8,\"8\",180,3.73,17.3\n8,\"8\",180,3.78,15.2\n8,\"8\",205,5.25,10.4\n8,\"8\",215,5.424,10.4\n8,\"8\",230,5.345,14.7\n8,\"8\",150,3.52,15.5\n8,\"8\",150,3.435,15.2\n8,\"8\",245,3.84,13.3\n8,\"8\",175,3.845,19.2\n8,\"8\",264,3.17,15.8\n8,\"8\",335,3.57,15"
    },
    {
      "name": ".0/group_by1",
      "source": ".0/group_by1_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.cyl"
          ]
        }
      ]
    },
    {
      "name": ".0/group_by1/model_prediction2_flat",
      "format": {
        "type": "csv",
        "parse": {
          "cyl": "number",
          "resp_upr_": "number",
          "pred_": "number",
          "resp_lwr_": "number",
          "resp_": "number"
        }
      },
      "values": "\"cyl\",\"resp_upr_\",\"pred_\",\"resp_lwr_\",\"resp_\"\n4,34.9800883018005,1.513,27.0744052837557,31.0272467927781\n4,34.7878615744043,1.53422784810127,27.0268836222127,30.9073725983085\n4,34.5963328605434,1.55545569620253,26.9786639471342,30.7874984038388\n4,34.4055423024242,1.5766835443038,26.9297061163141,30.6676242093691\n4,34.2155327168905,1.59791139240506,26.8799673129085,30.5477500148995\n4,34.0263497684374,1.61913924050633,26.8294018724222,30.4278758204298\n4,33.8380421479348,1.64036708860759,26.7779611039855,30.3080016259602\n4,33.6506617556389,1.66159493670886,26.7255931073421,30.1881274314905\n4,33.4642638865707,1.68282278481013,26.6722425874709,30.0682532370208\n4,33.278907415743,1.70405063291139,26.6178506693593,29.9483790425512\n4,33.094654980002,1.72527848101266,26.562354716161,29.8285048480815\n4,32.9115731524215,1.74650632911392,26.5056881548022,29.7086306536118\n4,32.7297326042198,1.76773417721519,26.4477803140646,29.5887564591422\n4,32.5492082480776,1.78896202531646,26.3885562812674,29.4688822646725\n4,32.3700793555192,1.81018987341772,26.3279367848865,29.3490080702029\n4,32.1924296396951,1.83141772151899,26.2658381117713,29.2291338757332\n4,32.016347293513,1.85264556962025,26.2021720690141,29.1092596812635\n4,31.8419249716569,1.87387341772152,26.1368460019308,28.9893854867939\n4,31.6692597036891,1.89510126582278,26.0697628809594,28.8695112923242\n4,31.4984527242664,1.91632911392405,26.0008214714427,28.7496370978545\n4,31.3296092056584,1.93755696202532,25.9299166011113,28.6297629033849\n4,31.1628378774112,1.95878481012658,25.8569395404193,28.5098887089152\n4,30.9982505183714,1.98001265822785,25.7817785105198,28.3900145144456\n4,30.8359613076045,2.00124050632911,25.7043193323473,28.2701403199759\n4,30.6760860232353,2.02246835443038,25.6244462277772,28.1502661255062\n4,30.5187410821409,2.04369620253165,25.5420427799323,28.0303919310366\n4,30.3640424188694,2.06492405063291,25.4569930542644,27.9105177365669\n4,30.2121042092076,2.08615189873418,25.3691828749869,27.7906435420973\n4,30.0630374523529,2.10737974683544,25.2785012429023,27.6707693476276\n4,29.9169484353639,2.12860759493671,25.1848418709519,27.5508951531579\n4,29.7739371139142,2.14983544303797,25.0881048034624,27.4310209586883\n4,29.6340954535847,2.17106329113924,24.9881980748525,27.3111467642186\n4,29.49750578503,2.19229113924051,24.8850393544679,27.1912725697489\n4,29.3642392332396,2.21351898734177,24.778557517319,27.0713983752793\n4,29.2343542847436,2.23474683544304,24.6686940768756,26.9515241808096\n4,29.1078955560778,2.2559746835443,24.5554044166022,26.83164998634\n4,28.9848928216124,2.27720253164557,24.4386587621282,26.7117757918703\n4,28.8653603489254,2.29843037974684,24.3184428458759,26.5919015974006\n4,28.7492965757988,2.3196582278481,24.1947582300632,26.472027402931\n4,28.6366841457288,2.34088607594937,24.0676222711938,26.3521532084613\n4,28.5274903000826,2.36211392405063,23.9370677279007,26.2322790139917\n4,28.4216676064509,2.3833417721519,23.8031420325931,26.112404819522\n4,28.3191549860566,2.40456962025316,23.665906264048,25.9925306250523\n4,28.2198789897303,2.42579746835443,23.5254338714351,25.8726564305827\n4,28.1237552629424,2.4470253164557,23.3818092092836,25.752782236113\n4,28.0306901361137,2.46825316455696,23.235125947173,25.6329080416433\n4,27.9405822767629,2.48948101265823,23.0854854175844,25.5130338471737\n4,27.8533243444002,2.51070886075949,22.9329949610078,25.393159652704\n4,27.7688045964828,2.53193670886076,22.7777663199859,25.2732854582344\n4,27.686908403153,2.55316455696203,22.6199141243764,25.1534112637647\n4,27.6075196387857,2.57439240506329,22.4595544998043,25.033537069295\n4,27.5305219286576,2.59562025316456,22.2968038209931,24.9136628748254\n4,27.455799738566,2.61684810126582,22.1317776221454,24.7937886803557\n4,27.3832393034878,2.63807594936709,21.9645896682843,24.673914485886\n4,27.312729398101,2.65930379746835,21.7953511847317,24.5540402914164\n4,27.2441619571281,2.68053164556962,21.6241702367653,24.4341660969467\n4,27.1774325570663,2.70175949367089,21.4511512478878,24.3142919024771\n4,27.1124407731176,2.72298734177215,21.2763946428972,24.1944177080074\n4,27.0490904262451,2.74421518987342,21.0999966008303,24.0745435135377\n4,26.9872897354914,2.76544303797468,20.9220489026447,23.9546693190681\n4,26.9269513902401,2.78667088607595,20.7426388589567,23.8347951245984\n4,26.8679925561809,2.80789873417721,20.5618493040766,23.7149209301288\n4,26.8103348275276,2.82912658227848,20.3797586437906,23.5950467356591\n4,26.7539041366752,2.85035443037975,20.1964409457036,23.4751725411894\n4,26.6986306310718,2.87158227848101,20.0119660623677,23.3552983467198\n4,26.6444485256997,2.89281012658228,19.8263997788006,23.2354241522501\n4,26.5912959382549,2.91403797468354,19.639803977306,23.1155499577804\n4,26.5391147129223,2.93526582278481,19.4522368136993,22.9956757633108\n4,26.4878502375736,2.95649367088608,19.2637529001086,22.8758015688411\n4,26.43745125828,2.97772151898734,19.0744034904629,22.7559273743715\n4,26.3878696942205,2.99894936708861,18.8842366655831,22.6360531799018\n4,26.3390604553797,3.02017721518987,18.6932975154845,22.5161789854321\n4,26.2909812648498,3.04140506329114,18.5016283170751,22.3963047909625\n4,26.2435924870719,3.0626329113924,18.3092687059137,22.2764305964928\n4,26.1968569629596,3.08386075949367,18.1162558410868,22.1565564020232\n4,26.1507398525278,3.10508860759494,17.9226245625792,22.0366822075535\n4,26.1052084853965,3.1263164556962,17.7284075407712,21.9168080130838\n4,26.0602322193357,3.14754430379747,17.5336354178926,21.7969338186142\n4,26.0157823068645,3.16877215189873,17.3383369414245,21.6770596241445\n4,25.9718317697946,3.19,17.1425390895551,21.5571854296748\n6,23.1723845745727,2.62,19.0775493306446,21.1249669526086\n6,23.1125231041877,2.6306329113924,19.0782895608045,21.0954063324961\n6,23.0528695730455,2.64126582278481,19.0788218517216,21.0658457123835\n6,22.993433572926,2.65189873417722,19.0791366116161,21.036285092271\n6,22.9342252187496,2.66253164556962,19.0792237255673,21.0067244721585\n6,22.8752551778727,2.67316455696203,19.0790725262192,20.9771638520459\n6,22.8165347005907,2.68379746835443,19.0786717632761,20.9476032319334\n6,22.7580756517921,2.69443037974684,19.0780095718497,20.9180426118209\n6,22.699890543671,2.70506329113924,19.0770734397456,20.8884819917083\n6,22.6419925693754,2.71569620253165,19.0758501738162,20.8589213715958\n6,22.5843956374238,2.72632911392405,19.0743258655427,20.8293607514833\n6,22.5271144066764,2.73696202531646,19.072485856065,20.7998001313707\n6,22.4701643215869,2.74759493670886,19.0703147009294,20.7702395112582\n6,22.4135616473952,2.75822784810127,19.0677961348961,20.7406788911456\n6,22.3573235048459,2.76886075949367,19.0649130372203,20.7111182710331\n6,22.3014679039278,2.77949367088608,19.0616473979134,20.6815576509206\n6,22.2460137760314,2.79012658227848,19.0579802855846,20.651997030808\n6,22.1909810038126,2.80075949367089,19.0538918175784,20.6224364106955\n6,22.1363904479253,2.81139240506329,19.0493611332406,20.592875790583\n6,22.0822639696583,2.8220253164557,19.0443663712825,20.5633151704704\n6,22.0286244483649,2.8326582278481,19.0388846523509,20.5337545503579\n6,21.9754957924307,2.84329113924051,19.03289206806,20.5041939302453\n6,21.9229029423707,2.85392405063291,19.026363677895,20.4746333101328\n6,21.870871864499,2.86455696202532,19.0192735155415,20.4450726900203\n6,21.8194295334774,2.87518987341772,19.0115946063381,20.4155120699077\n6,21.7686039019237,2.88582278481013,19.0032989976667,20.3859514497952\n6,21.7184238551734,2.89645569620253,18.9943578041919,20.3563908296827\n6,21.6689191492339,2.90708860759494,18.9847412699063,20.3268302095701\n6,21.6201203299789,2.91772151898734,18.9744188489363,20.2972695894576\n6,21.5720586317122,2.92835443037975,18.9633593069779,20.267708969345\n6,21.5247658533985,2.93898734177215,18.9515308450665,20.2381483492325\n6,21.4782742111402,2.94962025316456,18.9389012470997,20.20858772912\n6,21.432616165881,2.96025316455696,18.9254380521338,20.1790271090074\n6,21.3878242258559,2.97088607594937,18.9111087519339,20.1494664888949\n6,21.3439307239869,2.98151898734177,18.8958810135778,20.1199058687824\n6,21.3009675712443,2.99215189873418,18.8797229260953,20.0903452486698\n6,21.2589659879359,3.00278481012658,18.8626032691787,20.0607846285573\n6,21.2179562159366,3.01341772151899,18.8444918009529,20.0312240084447\n6,21.1779672159739,3.02405063291139,18.8253595606905,20.0016633883322\n6,21.1390263551952,3.0346835443038,18.8051791812441,19.9721027682197\n6,21.1011590912963,3.0453164556962,18.783925204918,19.9425421481071\n6,21.0643886603937,3.05594936708861,18.7615743955954,19.9129815279946\n6,21.0287357765203,3.06658227848101,18.7381060392438,19.8834209078821\n6,20.9942183510101,3.07721518987342,18.713502224529,19.8538602877695\n6,20.9608512400729,3.08784810126582,18.687748095241,19.824299667657\n6,20.9286460284799,3.09848101265823,18.660832066609,19.7947390475445\n6,20.8976108564787,3.10911392405063,18.6327459983851,19.7651784274319\n6,20.8677502958511,3.11974683544304,18.6034853187876,19.7356178073194\n6,20.8390652794599,3.13037974683544,18.5730490949538,19.7060571872068\n6,20.8115530867982,3.14101265822785,18.5414400473904,19.6764965670943\n6,20.785207386061,3.15164556962025,18.5086645079026,19.6469359469818\n6,20.7600183312298,3.16227848101266,18.4747323225087,19.6173753268692\n6,20.7359727107328,3.17291139240506,18.4396567027806,19.5878147067567\n6,20.7130541425258,3.18354430379747,18.4034540307625,19.5582540866442\n6,20.6912433090431,3.19417721518987,18.3661436240201,19.5286934665316\n6,20.6705182244534,3.20481012658228,18.3277474683848,19.4991328464191\n6,20.6508545260602,3.21544303797468,18.2882899265529,19.4695722263065\n6,20.6322257815163,3.22607594936709,18.2477974308717,19.440011606194\n6,20.6146038037327,3.23670886075949,18.2062981684303,19.4104509860815\n6,20.5979589659109,3.2473417721519,18.163821766027,19.3808903659689\n6,20.5822605099377,3.2579746835443,18.1203989817751,19.3513297458564\n6,20.5674768423646,3.26860759493671,18.0760614091232,19.3217691257439\n6,20.5535758132878,3.27924050632911,18.0308411979748,19.2922085056313\n6,20.5405249745576,3.28987341772152,17.9847707964799,19.2626478855188\n6,20.5282918148291,3.30050632911392,17.9378827159833,19.2330872654062\n6,20.5168439699684,3.31113924050633,17.890209320619,19.2035266452937\n6,20.5061494082127,3.32177215189873,17.8417826421496,19.1739660251812\n6,20.4961765902363,3.33240506329114,17.792634219901,19.1444054050686\n6,20.4868946048837,3.34303797468354,17.7427949650285,19.1148447849561\n6,20.4782732818028,3.35367088607595,17.6922950478843,19.0852841648436\n6,20.4702832825505,3.36430379746835,17.6411638069116,19.055723544731\n6,20.462896171969,3.37493670886076,17.589429677268,19.0261629246185\n6,20.4560844717538,3.38556962025316,17.5371201372581,18.9966023045059\n6,20.4498216981771,3.39620253164557,17.4842616706097,18.9670416843934\n6,20.4440823859077,3.40683544303797,17.430879742654,18.9374810642809\n6,20.4388420997957,3.41746835443038,17.376998788541,18.9079204441683\n6,20.4340774363812,3.42810126582278,17.3226422117304,18.8783598240558\n6,20.4297660167573,3.43873417721519,17.2678323911292,18.8487992039433\n6,20.4258864722709,3.44936708860759,17.2125906953905,18.8192385838307\n6,20.4224184243942,3.46,17.1569375030421,18.7896779637182\n8,18.6992958991983,3.17,15.1367057991096,16.9180008491539\n8,18.6025504459053,3.19853164556962,15.1083435287008,16.8554469873031\n8,18.5063553048496,3.22706329113924,15.0794309460548,16.7928931254522\n8,18.4107435277022,3.25559493670886,15.0499349995005,16.7303392636013\n8,18.315750221402,3.28412658227848,15.019820582099,16.6677854017505\n8,18.221412627596,3.3126582278481,14.9890504522032,16.6052315398996\n8,18.1277701911419,3.34118987341772,14.9575851649556,16.5426776780488\n8,18.0348646136681,3.36972151898734,14.9253830187278,16.4801238161979\n8,17.9427398874988,3.39825316455696,14.8924000211953,16.4175699543471\n8,17.851442304536,3.42678481012658,14.8585898804564,16.3550160924962\n8,17.761020433982,3.4553164556962,14.8239040273087,16.2924622306453\n8,17.6715250621331,3.48384810126582,14.7882916754559,16.2299083687945\n8,17.5830090869368,3.51237974683544,14.7516999269504,16.1673545069436\n8,17.495527359662,3.54091139240506,14.7140739305235,16.1048006450928\n8,17.4091364659871,3.56944303797468,14.6753571004967,16.0422467832419\n8,17.3238944391672,3.5979746835443,14.6354914036149,15.9796929213911\n8,17.2398603988275,3.62650632911392,14.5944177202529,15.9171390595402\n8,17.1570941104565,3.65503797468354,14.5520762849222,15.8545851976894\n8,17.0756554629441,3.68356962025316,14.5084072087328,15.7920313358385\n8,16.9956038645804,3.71210126582278,14.4633510833949,15.7294774739876\n8,16.9169975618057,3.7406329113924,14.4168496624679,15.6669236121368\n8,16.8398928895852,3.76916455696203,14.3688466109867,15.6043697502859\n8,16.7643434673734,3.79769620253165,14.3192883094967,15.5418158884351\n8,16.6903993599216,3.82622784810127,14.2681246932468,15.4792620265842\n8,16.6181062272256,3.85475949367089,14.2153101022411,15.4167081647334\n8,16.5475044921959,3.88329113924051,14.160804113569,15.3541543028825\n8,16.4786285576011,3.91182278481013,14.1045723244621,15.2916004410316\n8,16.4115061049729,3.94035443037975,14.0465870533887,15.2290465791808\n8,16.3461575070749,3.96888607594937,13.9868279275849,15.1664927173299\n8,16.2825953820421,3.99741772151899,13.9252823289161,15.1039388554791\n8,16.2208243114707,4.02594936708861,13.8619456757857,15.0413849936282\n8,16.1608407369642,4.05448101265823,13.7968215265906,14.9788311317774\n8,16.1026330405336,4.08301265822785,13.7299214993194,14.9162772699265\n8,16.0461818046536,4.11154430379747,13.6612650114977,14.8537234080756\n8,15.9914602385588,4.14007594936709,13.5908788538908,14.7911695462248\n8,15.9384347493815,4.16860759493671,13.5187966193663,14.7286156843739\n8,15.8870656306358,4.19713924050633,13.4450580144103,14.6660618225231\n8,15.8373078367516,4.22567088607595,13.3697080845928,14.6035079606722\n8,15.7891118109792,4.25420253164557,13.2927963866635,14.5409540988214\n8,15.7424243348589,4.28273417721519,13.2143761390822,14.4784002369705\n8,15.6971893702164,4.31126582278481,13.1345033800229,14.4158463751197\n8,15.6533488687944,4.33979746835443,13.0532361577432,14.3532925132688\n8,15.6108435296072,4.36832911392405,12.9706337732286,14.2907386514179\n8,15.5696134893919,4.39686075949367,12.8867560897423,14.2281847895671\n8,15.5295989366614,4.42539240506329,12.801662918771,14.1656309277162\n8,15.4907406445313,4.45392405063291,12.7154134871994,14.1030770658654\n8,15.4529804214564,4.48245569620253,12.6280659865726,14.0405232040145\n8,15.4162614821927,4.51098734177215,12.5396772021346,13.9779693421637\n8,15.3805287436658,4.53951898734177,12.4503022169598,13.9154154803128\n8,15.3457290520454,4.56805063291139,12.3599941848785,13.8528616184619\n8,15.3118113482838,4.59658227848101,12.2688041649384,13.7903077566111\n8,15.2787267797939,4.62511392405063,12.1767810097265,13.7277538947602\n8,15.2464287659408,4.65364556962025,12.0839712998779,13.6652000329094\n8,15.2148730247105,4.68217721518987,11.9904193174065,13.6026461710585\n8,15.1840175674012,4.71070886075949,11.8961670510141,13.5400923092077\n8,15.1538226675399,4.73924050632911,11.8012542271737,13.4775384473568\n8,15.1242508095215,4.76777215189873,11.7057183614904,13.4149845855059\n8,15.0952666217545,4.79630379746835,11.6095948255557,13.3524307236551\n8,15.0668367983996,4.82483544303797,11.5129169252088,13.2898768618042\n8,15.0389300131448,4.8533670886076,11.415715986762,13.2273229999534\n8,15.0115168278645,4.88189873417722,11.3180214483406,13.1647691381025\n8,14.9845695984917,4.91043037974684,11.2198609540116,13.1022152762517\n8,14.9580623799677,4.93896202531646,11.1212604488339,13.0396614144008\n8,14.9319708317432,4.96749367088608,11.0222442733567,12.97710755255\n8,14.9062721249679,4.9960253164557,10.9228352564302,12.9145536906991\n8,14.8809448522267,5.02455696202532,10.8230548054698,12.8519998288482\n8,14.8559689404472,5.05308860759494,10.7229229935476,12.7894459669974\n8,14.8313255674154,5.08162025316456,10.6224586428776,12.7268921051465\n8,14.8069970821816,5.11015189873418,10.5216794044097,12.6643382432957\n8,14.7829669295166,5.1386835443038,10.420601833373,12.6017843814448\n8,14.7592195784832,5.16721518987342,10.3192414607047,12.539230519594\n8,14.7357404551115,5.19574683544304,10.2176128603747,12.4766766577431\n8,14.7125158791116,5.22427848101266,10.1157297126729,12.4141227958922\n8,14.6895330045135,5.25281012658228,10.0136048635692,12.3515689340414\n8,14.6667797640944,5.2813417721519,9.91125038028669,12.2890150721905\n8,14.6442448174328,5.30987341772152,9.80867760324656,12.2264612103397\n8,14.6219175024161,5.33840506329114,9.70589719456153,12.1639073484888\n8,14.5997877900186,5.36693670886076,9.60291918325737,12.101353486638\n8,14.5778462421665,5.39546835443038,9.49975300740769,12.0387996247871\n8,14.5560839725069,5.424,9.3964075533656,11.9762457629362"
    },
    {
      "name": ".0/group_by1/model_prediction2",
      "source": ".0/group_by1/model_prediction2_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.cyl"
          ]
        }
      ]
    },
    {
      "name": "scale/fill",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"4\"\n\"6\"\n\"8\""
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n1.31745\n5.61955"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n8.11722351594386\n36.2592723392223"
    }
  ],
  "scales": [
    {
      "name": "fill",
      "type": "ordinal",
      "domain": {
        "data": "scale/fill",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "category10"
    },
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/model_prediction2"
      },
      "marks": [
        {
          "type": "area",
          "properties": {
            "update": {
              "fill": {
                "value": "#333333"
              },
              "y2": {
                "scale": "y",
                "field": "data.resp_upr_"
              },
              "fillOpacity": {
                "value": 0.2
              },
              "x": {
                "scale": "x",
                "field": "data.pred_"
              },
              "y": {
                "scale": "y",
                "field": "data.resp_lwr_"
              },
              "stroke": {
                "value": "transparent"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/model_prediction2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/model_prediction2"
      },
      "marks": [
        {
          "type": "line",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "strokeWidth": {
                "value": 2
              },
              "x": {
                "scale": "x",
                "field": "data.pred_"
              },
              "y": {
                "scale": "y",
                "field": "data.resp_"
              },
              "fill": {
                "value": "transparent"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/model_prediction2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1"
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "fill": {
                "scale": "fill",
                "field": "data.factor(cyl)"
              },
              "stroke": {
                "value": "black"
              },
              "size": {
                "field": "data.hp"
              },
              "opacity": {
                "value": 0.7
              },
              "x": {
                "scale": "x",
                "field": "data.wt"
              },
              "y": {
                "scale": "y",
                "field": "data.mpg"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [
    {
      "orient": "right",
      "fill": "fill",
      "title": "factor(cyl)"
    }
  ],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "wt"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "mpg"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id752014474").parseSpec(plot_id752014474_spec);
</script>
<p></p>
</div>
<div id="boxplot" class="section level2">
<h2>BoxPlot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span><span class="kw">factor</span>(cyl), <span class="op">~</span>mpg) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_boxplots</span>()</code></pre></div>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<div id="plot_id493927222-container" class="ggvis-output-container">
<div id="plot_id493927222" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id493927222_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id493927222" data-renderer="svg">SVG</a>
 | 
<a id="plot_id493927222_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id493927222" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id493927222_download" class="ggvis-download" data-plot-id="plot_id493927222">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id493927222_spec = {
  "data": [
    {
      "name": ".0/group_by1/boxplot2_flat",
      "format": {
        "type": "csv",
        "parse": {
          "min_": "number",
          "max_": "number",
          "lower_": "number",
          "upper_": "number",
          "median_": "number"
        }
      },
      "values": "\"min_\",\"max_\",\"factor(cyl)\",\"lower_\",\"upper_\",\"median_\"\n21.4,33.9,\"4\",22.8,30.4,26\n17.8,21.4,\"6\",18.65,21,19.7\n13.3,18.7,\"8\",14.4,16.25,15.2"
    },
    {
      "name": ".0/group_by1/boxplot2",
      "source": ".0/group_by1/boxplot2_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.factor(cyl)"
          ]
        }
      ]
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "format": {
        "type": "csv",
        "parse": {
          "value_": "number"
        }
      },
      "values": "\"value_\",\"factor(cyl)\"\n10.4,\"8\"\n10.4,\"8\"\n19.2,\"8\""
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3",
      "source": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.factor(cyl)"
          ]
        }
      ]
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"4\"\n\"6\"\n\"8\""
    },
    {
      "name": "scale/xcenter",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"4\"\n\"6\"\n\"8\""
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n9.225\n35.075"
    }
  ],
  "scales": [
    {
      "padding": 0.1,
      "type": "ordinal",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "name": "x",
      "points": false,
      "sort": false,
      "range": "width"
    },
    {
      "points": true,
      "padding": 1.1,
      "name": "xcenter",
      "type": "ordinal",
      "domain": {
        "data": "scale/xcenter",
        "field": "data.domain"
      },
      "sort": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "y": {
                "scale": "y",
                "field": "data.min_"
              },
              "y2": {
                "scale": "y",
                "field": "data.max_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.factor(cyl)"
              },
              "width": {
                "value": 0.5
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "x": {
                "scale": "x",
                "field": "data.factor(cyl)"
              },
              "y": {
                "scale": "y",
                "field": "data.lower_"
              },
              "y2": {
                "scale": "y",
                "field": "data.upper_"
              },
              "width": {
                "scale": "x",
                "band": true
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "x": {
                "scale": "x",
                "field": "data.factor(cyl)"
              },
              "y": {
                "scale": "y",
                "field": "data.median_"
              },
              "width": {
                "scale": "x",
                "band": true
              },
              "height": {
                "value": 1
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2/boxplot_outliers3"
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "size": {
                "value": 50
              },
              "fill": {
                "value": "black"
              },
              "y": {
                "scale": "y",
                "field": "data.value_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.factor(cyl)"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2/boxplot_outliers3"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "factor(cyl)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "mpg"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id493927222").parseSpec(plot_id493927222_spec);
</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(mass),
         <span class="op">!</span><span class="kw">is.na</span>(height),
         species <span class="op">==</span><span class="st"> &quot;Human&quot;</span> <span class="op">|</span><span class="st"> </span>
<span class="st">           </span>species <span class="op">==</span><span class="st"> &quot;Droid&quot;</span> <span class="op">|</span><span class="st"> </span>
<span class="st">           </span>species <span class="op">==</span><span class="st"> &quot;Gungan&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">species =</span> <span class="kw">parse_factor</span>(species, species)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggvis</span>(<span class="op">~</span><span class="kw">parse_factor</span>(species, species), <span class="op">~</span>mass) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">layer_boxplots</span>()</code></pre></div>
<div id="plot_id752538748-container" class="ggvis-output-container">
<div id="plot_id752538748" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id752538748_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id752538748" data-renderer="svg">SVG</a>
 | 
<a id="plot_id752538748_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id752538748" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id752538748_download" class="ggvis-download" data-plot-id="plot_id752538748">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id752538748_spec = {
  "data": [
    {
      "name": ".0/group_by1/boxplot2_flat",
      "format": {
        "type": "csv",
        "parse": {
          "min_": "number",
          "max_": "number",
          "lower_": "number",
          "upper_": "number",
          "median_": "number"
        }
      },
      "values": "\"min_\",\"max_\",\"parse_factor(species, species)\",\"lower_\",\"upper_\",\"median_\"\n32,140,\"Droid\",32,91.25,53.5\n66,82,\"Gungan\",70,78,74\n75,89,\"Human\",77,84,79"
    },
    {
      "name": ".0/group_by1/boxplot2",
      "source": ".0/group_by1/boxplot2_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.parse_factor(species, species)"
          ]
        }
      ]
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "format": {
        "type": "csv",
        "parse": {
          "value_": "number"
        }
      },
      "values": "\"value_\",\"parse_factor(species, species)\"\n136,\"Human\"\n49,\"Human\"\n120,\"Human\"\n110,\"Human\"\n45,\"Human\""
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3",
      "source": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.parse_factor(species, species)"
          ]
        }
      ]
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Human\"\n\"Droid\"\n\"Gungan\""
    },
    {
      "name": "scale/xcenter",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Human\"\n\"Droid\"\n\"Gungan\""
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n26.6\n145.4"
    }
  ],
  "scales": [
    {
      "padding": 0.1,
      "type": "ordinal",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "name": "x",
      "points": false,
      "sort": false,
      "range": "width"
    },
    {
      "points": true,
      "padding": 1.1,
      "name": "xcenter",
      "type": "ordinal",
      "domain": {
        "data": "scale/xcenter",
        "field": "data.domain"
      },
      "sort": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "y": {
                "scale": "y",
                "field": "data.min_"
              },
              "y2": {
                "scale": "y",
                "field": "data.max_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.parse_factor(species, species)"
              },
              "width": {
                "value": 0.5
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "x": {
                "scale": "x",
                "field": "data.parse_factor(species, species)"
              },
              "y": {
                "scale": "y",
                "field": "data.lower_"
              },
              "y2": {
                "scale": "y",
                "field": "data.upper_"
              },
              "width": {
                "scale": "x",
                "band": true
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "white"
              },
              "x": {
                "scale": "x",
                "field": "data.parse_factor(species, species)"
              },
              "y": {
                "scale": "y",
                "field": "data.median_"
              },
              "width": {
                "scale": "x",
                "band": true
              },
              "height": {
                "value": 1
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2/boxplot_outliers3"
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "size": {
                "value": 50
              },
              "fill": {
                "value": "black"
              },
              "y": {
                "scale": "y",
                "field": "data.value_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.parse_factor(species, species)"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2/boxplot_outliers3"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "parse_factor(species, species)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "mass"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id752538748").parseSpec(plot_id752538748_spec);
</script>
<p><a href="http://ggvis.rstudio.com/cookbook.html">More information on box plots</a></p>
</div>

&nbsp;

<hr>
<span class="footer">
  
  <span class="left-foot">
    
    <a href="https://rfun.library.duke.edu/">R We Having Fun Yet</a> -- Learning Series<br>
    <a href="http://library.duke.edu/data/">Data & Visualization Services</a><br>
    <a href="http://library.duke.edu/">Duke University Libraries</a>
    
  </span>

  <span class="right-foot">
  
    <span class="cc">
      <!-- Key: a: SA, b: BY, c: CC Circle, d: ND, n: NC, m: Sampling, s: Share, r: Remix, C: CC Full Logo -->
    C bn</span><br>
    Shareable via Creative Commons:  CC <a href="https://creativecommons.org/licenses/by-nc/4.0/">By-NC</a>

  </span>

</span>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
